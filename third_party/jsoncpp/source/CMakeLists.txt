CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

SET(jsoncpp_LIBRARY_NAME "jsoncpp")
SET(jsoncpp_LIBRARY_NAME ${jsoncpp_LIBRARY_NAME} PARENT_SCOPE)

SET(jsoncpp_DIR "${CMAKE_SOURCE_DIR}/Source/chrome_deps/third_party/jsoncpp/source")
SET(jsoncpp_INCLUDE_DIRECTORIES "${jsoncpp_DIR}/include/")

file(GLOB jsoncpp_SOURCES "${jsoncpp_DIR}/src/lib_json/*.cpp")

INCLUDE_DIRECTORIES(${jsoncpp_INCLUDE_DIRECTORIES})
ADD_LIBRARY(${jsoncpp_LIBRARY_NAME} SHARED ${jsoncpp_SOURCES})

SET_TARGET_PROPERTIES(${jsoncpp_LIBRARY_NAME} PROPERTIES VERSION ${PROJECT_VERSION} SOVERSION ${PROJECT_VERSION_MAJOR})

INSTALL(TARGETS ${jsoncpp_LIBRARY_NAME} DESTINATION "${LIB_INSTALL_DIR}")
